[
  {
    "test_name": "codegen_course_schedule_search",
    "description": "Complex query for finding CS courses on MWF mornings",
    "input": "subject equals CS and monday is true and wednesday is true and friday is true and start >= 8:00am and end <= 12:00pm",
    "should_succeed": true,
    "expected_fragments": [
      "c.subject_code",
      "mt.is_monday = 1",
      "mt.is_wednesday = 1",
      "mt.is_friday = 1",
      "mt.start_minutes >= '08:00:00'",
      "mt.end_minutes <= '12:00:00'"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_professor_course_search",
    "description": "Complex query for finding a professor teaching a specific subject",
    "input": "prof contains smith and subject equals CS and credit hours >= 3",
    "should_succeed": true,
    "expected_fragments": [
      "p.name LIKE '%smith%'",
      "c.subject_code",
      "c.credit_hours >= 3"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_enrollment_availability",
    "description": "Query for finding available sections with low enrollment",
    "input": "full equals false and enrollment < 30 and cap >= 40",
    "should_succeed": true,
    "expected_fragments": [
      "s.enrollment < s.max_enrollment",
      "s.enrollment < 30",
      "s.max_enrollment >= 40"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_afternoon_classes",
    "description": "Query for afternoon classes on Tuesday/Thursday",
    "input": "tuesday is true and thursday is true and start >= 12:00pm and end <= 6:00pm",
    "should_succeed": true,
    "expected_fragments": [
      "mt.is_tuesday = 1",
      "mt.is_thursday = 1",
      "mt.start_minutes >= '12:00:00'",
      "mt.end_minutes <= '18:00:00'"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_multi_subject_search",
    "description": "Query for multiple subjects with specific criteria",
    "input": "(subject equals CS or subject equals MATH or subject equals PHYS) and credit hours >= 3 and enrollment < 100",
    "should_succeed": true,
    "expected_fragments": [
      "c.subject_code",
      "c.credit_hours >= 3",
      "s.enrollment < 100",
      "OR"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_online_course_search",
    "description": "Query for online courses in specific subjects",
    "input": "method equals online and (subject equals CS or subject equals MATH)",
    "should_succeed": true,
    "expected_fragments": [
      "s.instruction_method",
      "LOWER('online')",
      "c.subject_code",
      "OR"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_campus_time_search",
    "description": "Query for main campus morning classes",
    "input": "campus equals main and start >= 8:00am and start 8:00am to 12:00pm",
    "should_succeed": true,
    "expected_fragments": [
      "s.campus",
      "LOWER('main')",
      "mt.start_minutes"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_title_description_search",
    "description": "Query searching in both title and description",
    "input": "title contains programming or description contains programming",
    "should_succeed": true,
    "expected_fragments": [
      "c.title LIKE '%programming%'",
      "c.description LIKE '%programming%'",
      "OR"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_prereqs_search",
    "description": "Query for courses with specific prerequisites",
    "input": "prereqs contains MATH and credit hours >= 4",
    "should_succeed": true,
    "expected_fragments": [
      "c.prerequisites LIKE '%MATH%'",
      "c.credit_hours >= 4"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_weekday_evening",
    "description": "Query for weekday evening classes",
    "input": "saturday is false and sunday is false and start >= 5:00pm",
    "should_succeed": true,
    "expected_fragments": [
      "mt.is_saturday = 0",
      "mt.is_sunday = 0",
      "mt.start_minutes >= '17:00:00'"
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_subject_is_not_query",
    "description": "Generate SQL for subject is not query",
    "input": "subject is not CMPT",
    "should_succeed": true,
    "expected_fragments": [
      "c.subject_code",
      "LOWER('CMPT')",
      "!="
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_professor_is_not_query",
    "description": "Generate SQL for professor is not query",
    "input": "prof is not Alan",
    "should_succeed": true,
    "expected_fragments": [
      "p.name",
      "p.email_address",
      "LOWER('Alan')",
      "!="
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_course_is_not_query",
    "description": "Generate SQL for course is not query",
    "input": "course is not 424N",
    "should_succeed": true,
    "expected_fragments": [
      "c.title",
      "c.subject_code",
      "LOWER('424N')",
      "!="
    ],
    "forbidden_fragments": []
  },
  {
    "test_name": "codegen_is_not_and_combination",
    "description": "Generate SQL for is not combined with AND",
    "input": "subject is not CMPT and credit hours >= 3",
    "should_succeed": true,
    "expected_fragments": [
      "c.subject_code",
      "LOWER('CMPT')",
      "!=",
      "c.credit_hours >= 3",
      "AND"
    ],
    "forbidden_fragments": []
  }
]

